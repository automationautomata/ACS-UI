#:import Window kivy.core.window.Window
#:import Factory kivy.factory.Factory


<ThemeButton>:
    text: 'T'
    size_hint: (None, None)
    background_normal: ''

<DomainButton>:
    text: 'Domain'
    size_hint: (None, None)
    background_normal: ''

<SortingButton>:
    text: 'Sorting'
    size_hint: (None, None)
    background_normal: ''

<FindButton>:
    text: 'Find'
    size_hint: (None, None)
    background_normal: ''

<AddRecordButton>:
    text: 'Add'
    size_hint: (None, None)
    background_normal: ''
    background_disabled_normal: ''

<EditRecordButton>:
    text: 'Edit'
    size_hint: (None, None)
    background_normal: ''
    background_disabled_normal: ''

<DeleteRecordButton>:
    text: 'Delete'
    size_hint: (None, None)
    background_normal: ''
    background_disabled_normal: ''

<CardsListButton>:
    text: 'Cards'
    size_hint: (None, None)
    background_normal: ''
    background_disabled_normal: ''
    on_press: Factory.CardsListWindow().open_win()

<RoomsListButton>:
    text: 'Rooms'
    size_hint: (None, None)
    background_normal: ''
    background_disabled_normal: ''
    on_press: Factory.RoomsListWindow().open_win()

<RightsListButton>:
    text: 'Rights'
    size_hint: (None, None)
    background_normal: ''
    background_disabled_normal: ''
    on_press: Factory.RightsListWindow().open_win()

<ExplorerButton>:
    size_hint: (None, None)
    background_normal: ''

<DomainWindow>:
    pos: (Window.width * .05, Window.height * .05)
    size_hint: (.9, .9)
    title: 'Domain'

<SortingWindow>:
    pos: (Window.width * .05, Window.height * .05)
    size_hint: (.3, .6)
    title: 'Sorting'
    # auto_dismiss: False

    RelativeLayout:
        id: main_area
        pos: self.pos
        size_hint: self.size_hint

<FindWindow>:
    pos: (Window.width * .05, Window.height * .05)
    size_hint: (.3, .6)
    title: 'Find'
    # auto_dismiss: False

    RelativeLayout:
        id: main_area
        pos: self.pos
        size_hint: self.size_hint

<AddRecordWindow>:
    pos: (Window.width * .05, Window.height * .05)
    size_hint: (.3, .6)
    title: 'Add record'
    auto_dismiss: False

    RelativeLayout:
        id: main_area
        pos: self.pos
        size_hint: self.size_hint

<EditRecordWindow>:
    pos: (Window.width * .05, Window.height * .05)
    size_hint: (.3, .6)
    title: 'Edit record'
    # auto_dismiss: False

    RelativeLayout:
        id: main_area
        pos: self.pos
        size_hint: self.size_hint

<DeleteRecordWindow>:
    pos: (Window.width * .05, Window.height * .05)
    size_hint: (.3, .6)
    title: 'Delete record'
    # auto_dismiss: False

    RelativeLayout:
        id: main_area
        pos: self.pos
        size_hint: self.size_hint

<CardsListWindow>:
    pos: (Window.width * .05, Window.height * .05)
    size_hint: (None, None)
    size: (1500, 450)
    title: 'Cards list'

    RelativeLayout:
        id: table
        size_hint: (None, None)
        size: (root.width - 32.5, root.height - 85)

        ShowDeletedRecordsCheckBox:
            id: cards_list_deleted_records
            pos: self.pos
            _table: 'cards'
            _root: root

        TableHeader:
            id: cards_list_header
            pos: (220, 310)
            size_hint: (None, None)
            size: (1250, 50)

            _grid: cards_list_header_content
            _rows: 1
            _columns: 5

            _data_titles: ('id', 'Number', 'Date the room was added', 'Date the room was deleted', 'Is sabotaged card')
            _data_keys: ('id', 'number', 'date_time_begin', 'date_time_end', 'isSabotaged')

            GridLayout:
                id: cards_list_header_content
                rows: cards_list_header._rows
                cols: cards_list_header._columns
                col_default_width: '200dp'
                col_force_default: True
                size_hint_x: None
                width: self.minimum_width

        TableContent:
            id: cards_list_table
            pos: (220, 0)
            size_hint: (None, None)
            size: (1250, 310)

            _grid: cards_list_table_content
            _header: root.ids.cards_list_header
            _rows: 25
            _columns: 5

            GridLayout:
                id: cards_list_table_content
                rows: cards_list_table._rows
                cols: cards_list_table._columns
                row_default_height: '20dp'
                row_force_default: True
                size_hint_y: None
                height: self.minimum_height

                col_default_width: '200dp'
                col_force_default: True
                size_hint_x: None
                width: self.minimum_width

        AddRecordButton:
            id: add_record_button
            pos: (0, 330)
            size: (210, 30)
            on_press: Factory.AddRecordWindow().open_win('cards')

        EditRecordButton:
            id: edit_record_button
            pos: (0, 295)
            size: (210, 30)
            on_press: Factory.EditRecordWindow().open_win('cards')

        DeleteRecordButton:
            id: delete_record_button
            pos: (0, 260)
            size: (210, 30)
            on_press: Factory.DeleteRecordWindow().open_win('cards')

        FindButton:
            id: find_button
            pos: (0, 225)
            size: (210, 30)
            on_press: Factory.FindWindow().open_win('cards')

<RoomsListWindow>:
    pos: (Window.width * .05, Window.height * .05)
    size_hint: (None, None)
    size: (1250, 450)
    title: 'Rooms list'

    RelativeLayout:
        id: table
        size_hint: (None, None)
        size: (root.width - 32.5, root.height - 85)

        ShowDeletedRecordsCheckBox:
            id: rooms_list_deleted_records
            pos: self.pos
            _table: 'rooms'
            _root: root

        TableHeader:
            id: rooms_list_header
            pos: (220, 310)
            size_hint: (None, None)
            size: (1000, 50)

            _grid: rooms_list_header_content
            _rows: 1
            _columns: 4

            _data_titles: ('id', 'Name', 'Date the room was added', 'Date the room was deleted')
            _data_keys: ('id', 'name', 'date_time_begin', 'date_time_end')

            GridLayout:
                id: rooms_list_header_content
                rows: rooms_list_header._rows
                cols: rooms_list_header._columns
                col_default_width: '200dp'
                col_force_default: True
                size_hint_x: None
                width: self.minimum_width

        TableContent:
            id: rooms_list_table
            pos: (220, 0)
            size_hint: (None, None)
            size: (1000, 310)

            _grid: rooms_list_table_content
            _header: root.ids.rooms_list_header
            _rows: 25
            _columns: 4

            GridLayout:
                id: rooms_list_table_content
                rows: rooms_list_table._rows
                cols: rooms_list_table._columns
                row_default_height: '20dp'
                row_force_default: True
                size_hint_y: None
                height: self.minimum_height

                col_default_width: '200dp'
                col_force_default: True
                size_hint_x: None
                width: self.minimum_width

        AddRecordButton:
            id: add_record_button
            pos: (0, 330)
            size: (210, 30)
            on_press: Factory.AddRecordWindow().open_win('rooms')

        EditRecordButton:
            id: edit_record_button
            pos: (0, 295)
            size: (210, 30)
            on_press: Factory.EditRecordWindow().open_win('rooms')

        DeleteRecordButton:
            id: delete_record_button
            pos: (0, 260)
            size: (210, 30)
            on_press: Factory.DeleteRecordWindow().open_win('rooms')

        FindButton:
            id: find_button
            pos: (0, 225)
            size: (210, 30)
            on_press: Factory.FindWindow().open_win('rooms')

<RightsListWindow>:
    pos: (Window.width * .05, Window.height * .05)
    size_hint: (None, None)
    size: (1250, 450)
    title: 'Rights list'

    RelativeLayout:
        id: table
        size_hint: (None, None)
        size: (root.width - 32.5, root.height - 85)

        ShowDeletedRecordsCheckBox:
            id: rights_list_deleted_records
            pos: self.pos
            _table: 'rights'
            _root: root

        TableHeader:
            id: rights_list_header
            pos: (220, 310)
            size_hint: (None, None)
            size: (1000, 50)

            _grid: rights_list_header_content
            _rows: 1
            _columns: 4

            _data_titles: ('id', 'Name', 'Date the right was added', 'Date the right was deleted')
            _data_keys: ('id', 'name', 'date_time_begin', 'date_time_end')

            GridLayout:
                id: rights_list_header_content
                rows: rights_list_header._rows
                cols: rights_list_header._columns
                col_default_width: '200dp'
                col_force_default: True
                size_hint_x: None
                width: self.minimum_width

        TableContent:
            id: rights_list_table
            pos: (220, 0)
            size_hint: (None, None)
            size: (1000, 310)

            _grid: rights_list_table_content
            _header: root.ids.rights_list_header
            _rows: 25
            _columns: 4

            GridLayout:
                id: rights_list_table_content
                rows: rights_list_table._rows
                cols: rights_list_table._columns
                row_default_height: '20dp'
                row_force_default: True
                size_hint_y: None
                height: self.minimum_height

                col_default_width: '200dp'
                col_force_default: True
                size_hint_x: None
                width: self.minimum_width

        AddRecordButton:
            id: add_record_button
            pos: (0, 330)
            size: (210, 30)
            on_press: Factory.AddRecordWindow().open_win('rights')

        EditRecordButton:
            id: edit_record_button
            pos: (0, 295)
            size: (210, 30)
            on_press: Factory.EditRecordWindow().open_win('rights')

        DeleteRecordButton:
            id: delete_record_button
            pos: (0, 260)
            size: (210, 30)
            on_press: Factory.DeleteRecordWindow().open_win('rights')

        FindButton:
            id: find_button
            pos: (0, 225)
            size: (210, 30)
            on_press: Factory.FindWindow().open_win('rights')
